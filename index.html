<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Erico Schuch | IT Infrastructure & Cybersecurity</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code&display=swap" rel="stylesheet">
    <style>
        /* * Dracula Color Palette
         * Background: #282a36
         * Current Line: #44475a
         * Foreground: #f8f82
         * Comment: #6272a4
         * Cyan: #8be9fd
         * Green: #50fa7b
         * Orange: #ffb86c
         * Pink: #ff79c6
         * Purple: #bd93f9
         * Red: #ff5555
         * Yellow: #f1fa8c
        */

        html {
            scroll-behavior: smooth;
        }

        body {
            margin: 0;
            font-family: 'Fira Code', monospace;
            font-size: 16px; /* Consistent font size */
            color: #f8f8f2; /* Foreground */
            background-color: #282a36; /* Background */
            line-height: 1.8;
        }

        /* General parallax section styling */
        .parallax-section {
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 40px 20px;
            box-sizing: border-box;
            position: relative;
            background-attachment: fixed;
            background-position: center;
            background-repeat: no-repeat;
            background-size: cover;
        }

        .content-wrapper {
            max-width: 800px;
            background-color: rgba(40, 42, 54, 0.85); /* Semi-transparent background for readability */
            padding: 40px;
            border-radius: 15px;
            border: 1px solid #44475a;
            width: 100%;
        }
        
        /* Specific sections with background images or colors */
        #hero {
            background-image: url('media/barragem.jpg');
            box-shadow: inset 0 0 0 2000px rgba(40, 42, 54, 0.7); /* Dark overlay to make text readable */
        }
        
        #summary, #skills, #ai-chat {
            background-color: #282a36;
        }

        #experience {
             background-image: url('media/barragem.jpg');
             box-shadow: inset 0 0 0 2000px rgba(40, 42, 54, 0.85);
        }

        #contact {
             background-image: url('media/barragem.jpg');
             box-shadow: inset 0 0 0 2000px rgba(40, 42, 54, 0.9);
        }

        /* Typography */
        h1, h2 {
            margin: 0 0 20px 0;
            font-weight: normal;
        }

        h1 {
            font-size: 2.5em;
            color: #bd93f9; /* Purple */
        }
        
        h2 {
            font-size: 2em;
            color: #50fa7b; /* Green */
            border-bottom: 2px solid #6272a4;
            padding-bottom: 10px;
            margin-bottom: 30px;
        }
        
        h3 {
            color: #8be9fd; /* Cyan */
            font-size: 1.2em;
            margin-bottom: 5px;
        }

        p {
            margin: 0 0 20px 0;
            text-align: left;
        }
        
        p:last-child {
            margin-bottom: 0;
        }

        a {
            color: #ff79c6; /* Pink */
            text-decoration: none;
            transition: color 0.3s ease;
        }

        a:hover {
            color: #f1fa8c; /* Yellow */
        }

        /* Specific element styling */
        .job {
            margin-bottom: 30px;
            text-align: left;
        }
        
        .job-title {
            color: #ffb86c; /* Orange */
            font-size: 1em;
        }

        .skills-list {
            list-style: none;
            padding: 0;
            text-align: left;
        }
        
        .skills-list li::before {
            content: '> ';
            color: #ff79c6; /* Pink */
        }
        
        .contact-links {
            margin-top: 20px;
        }
        
        .contact-links a {
            display: block;
            margin: 10px 0;
            font-size: 1.2em;
        }

        /* Gemini Feature Styles */
        button.gemini-btn {
            background-color: #bd93f9; /* Purple */
            color: #f8f8f2;
            border: none;
            padding: 12px 24px;
            font-family: 'Fira Code', monospace;
            font-size: 1em;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s ease;
            margin-top: 20px;
        }

        button.gemini-btn:hover {
            background-color: #ff79c6; /* Pink */
        }
        
        button.gemini-btn:disabled {
            background-color: #6272a4;
            cursor: not-allowed;
        }

        #newSummaryContainer {
            margin-top: 20px;
            border-top: 1px solid #44475a;
            padding-top: 20px;
            text-align: left;
        }

        .loading-indicator {
            display: none;
            margin-top: 20px;
            color: #f1fa8c; /* Yellow */
        }

        #chat-container {
            width: 100%;
            margin-top: 20px;
        }

        #chat-box {
            height: 300px;
            overflow-y: auto;
            border: 1px solid #44475a;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            text-align: left;
            background-color: #282a36;
        }
        
        .chat-message {
            margin-bottom: 15px;
            line-height: 1.6;
        }
        
        .user-message {
            color: #8be9fd; /* Cyan */
        }
        
        .ai-message {
            color: #f8f8f2; /* Foreground */
        }
        
        .chat-message strong {
             color: #50fa7b; /* Green */
        }

        #chat-input-container {
            display: flex;
            gap: 10px;
        }

        #chat-input {
            flex-grow: 1;
            background-color: #44475a;
            border: 1px solid #6272a4;
            border-radius: 8px;
            padding: 12px;
            font-family: 'Fira Code', monospace;
            color: #f8f8f2;
            font-size: 1em;
        }
        
        #chat-input::placeholder {
            color: #6272a4;
        }
    </style>
</head>
<body>

    <!-- =================================================================== -->
    <!-- ADDITIONAL CONTEXT FOR THE AI (DOES NOT APPEAR ON THE SITE) -->
    <!-- =================================================================== -->
    <div id="hidden-ai-context" style="display: none;">
        <!-- 
            INSTRUCTIONS:
            Add any extra information here that you want the chatbot to know about you.
            This will not be visible on the site, but the AI will use this text to answer questions.
            You can add details about projects, hobbies, work philosophy,
            specific achievements, etc. The more details, the richer the answers will be.

            EXAMPLE:
            My work philosophy is based on automation. I believe that any repetitive task
            can and should be automated to free up time for innovation.
            On a project at Dell, I created a TCL script that reduced regression testing time
            from 2 days to 4 hours. I am a classic car enthusiast and spend
            my weekends restoring a 1978 Opala.
        -->

        <!-- START ADDING YOUR TEXT BELOW THIS LINE -->
        
    </div>
    <!-- =================================================================== -->


    <!-- Hero Section -->
    <section id="hero" class="parallax-section">
        <div class="content-wrapper">
            <h1>Erico Schuch</h1>
            <p style="text-align: center; font-size: 1.2em; color: #8be9fd;">IT Infrastructure Consultant & Cybersecurity Expert</p>
        </div>
    </section>

    <!-- Summary Section -->
    <section id="summary" class="parallax-section">
        <div class="content-wrapper">
            <h2>Summary</h2>
            <div id="originalSummary">
                <p>With over 30 years of experience in information technology, I specialize in providing IT and infrastructure solutions across various market segments. I focus on Linux and network security, leveraging my expertise in cloud, virtualization, and automation to safeguard client data and systems, ensuring their reliability, availability, and integrity.</p>
                <p>I also held roles as a product manager, programmer and QA. During my tenure, I contributed to the development and execution of IT and infrastructure projects, meeting the needs of both internal and external stakeholders. Passionate about technology and innovation, I am committed to continuously updating and enhancing my skills within my field.</p>
            </div>
            <button id="summarizeBtn" class="gemini-btn">✨ Generate New Summary with AI</button>
            <div id="loadingSummary" class="loading-indicator">Generating...</div>
            <div id="newSummaryContainer" style="display:none;">
                <h3>AI-Generated Summary:</h3>
                <p id="generatedSummary"></p>
            </div>
        </div>
    </section>

    <!-- Experience Section -->
    <section id="experience" class="parallax-section">
        <div class="content-wrapper">
            <h2>Experience</h2>
            <div class="job">
                <h3>Information Technology Infrastructure Specialist</h3>
                <p class="job-title">Grupo Softnex | November 2022 - Present</p>
            </div>
            <div class="job">
                <h3>Information Technology Consultant</h3>
                <p class="job-title">Ens Open | July 1996 - Present</p>
            </div>
            <div class="job">
                <h3>Product Manager / IT Infrastructure Analyst</h3>
                <p class="job-title">ATPlus | April 2021 - November 2022</p>
            </div>
            <div class="job">
                <h3>Telecommunications Network Specialist</h3>
                <p class="job-title">Vivo (Telefônica Brasil) | February 2013 - April 2021</p>
            </div>
            <div class="job">
                <h3>Test Automation Engineer</h3>
                <p class="job-title">Dell Technologies (via Stefanini) | August 2012 - July 2013</p>
            </div>
             <div class="job">
                <h3>Test Automation Engineer</h3>
                <p class="job-title">NDD Tech Brasil | November 2008 - July 2012</p>
            </div>
        </div>
    </section>

    <!-- Skills & Certifications Section -->
    <section id="skills" class="parallax-section">
        <div class="content-wrapper">
            <h2>Skills & Certifications</h2>
            <p style="text-align:center; color: #50fa7b;">// Top Skills</p>
            <ul class="skills-list">
                <li>Network Administration</li>
                <li>Test Case Generation</li>
                <li>Financial Systems</li>
                <li>Linux OS</li>
                <li>Cybersecurity</li>
            </ul>
            <br>
            <p style="text-align:center; color: #50fa7b;">// Certifications</p>
            <ul class="skills-list">
                <li>Hurricane IPv6 Certification</li>
                <li>Foundation Certificate in IT-SM (based on ITIL® V2)</li>
                <li>Introduction to Google Workspace Administration</li>
                <li>Foundations of Cybersecurity</li>
            </ul>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="parallax-section">
        <div class="content-wrapper">
            <h2>Contact</h2>
            <p style="text-align: center;">Feel free to reach out.</p>
            <div class="contact-links">
                <a href="mailto:eschuch@gmail.com">eschuch@gmail.com</a>
                <a href="https://www.linkedin.com/in/eschuch" target="_blank">linkedin.com/in/eschuch</a>
                <a href="https://bit.ly/m/eschuch" target="_blank">bit.ly/m/eschuch</a>
            </div>
        </div>
    </section>
    
    <!-- AI Chat Section -->
    <section id="ai-chat" class="parallax-section">
        <div class="content-wrapper">
            <h2>✨ Ask the AI</h2>
            <p style="text-align: center;">Ask a question about my career or skills. The AI will answer based on the information on this page.</p>
            <div id="chat-container">
                <div id="chat-box"></div>
                <div id="chat-input-container">
                    <input type="text" id="chat-input" placeholder="Ex: 'What is your experience with cybersecurity?'">
                    <button id="chat-submit" class="gemini-btn">Send</button>
                </div>
                 <div id="loadingChat" class="loading-indicator">Thinking...</div>
            </div>
        </div>
    </section>

<script>
    // --- DOM Elements ---
    const summarizeBtn = document.getElementById('summarizeBtn');
    const loadingSummary = document.getElementById('loadingSummary');
    const newSummaryContainer = document.getElementById('newSummaryContainer');
    const generatedSummary = document.getElementById('generatedSummary');

    const chatInput = document.getElementById('chat-input');
    const chatSubmitBtn = document.getElementById('chat-submit');
    const chatBox = document.getElementById('chat-box');
    const loadingChat = document.getElementById('loadingChat');

    // --- Gemini API Logic ---
    const apiKey = ""; // Leave as is, will be provided at runtime
    const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;

    /**
     * Calls the Gemini API with error handling and exponential backoff.
     * @param {string} prompt The prompt to send to the model.
     * @param {number} retries Number of remaining retry attempts.
     * @param {number} delay Delay before the next retry.
     * @returns {Promise<string>} The model's response text.
     */
    async function callGeminiAPI(prompt, retries = 3, delay = 1000) {
        const payload = {
            contents: [{
                role: "user",
                parts: [{ text: prompt }]
            }]
        };

        try {
            const response = await fetch(apiUrl, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(payload)
            });

            if (!response.ok) {
                if (response.status === 429 && retries > 0) { // Throttling
                    await new Promise(resolve => setTimeout(resolve, delay));
                    return callGeminiAPI(prompt, retries - 1, delay * 2);
                }
                throw new Error(`HTTP error! status: ${response.status}`);
            }

            const result = await response.json();
            
            if (result.candidates && result.candidates.length > 0 &&
                result.candidates[0].content && result.candidates[0].content.parts &&
                result.candidates[0].content.parts.length > 0) {
                return result.candidates[0].content.parts[0].text;
            } else {
                return "Could not generate a response. The API response structure was unexpected.";
            }
        } catch (error) {
            console.error("Error calling Gemini API:", error);
            if (retries > 0) {
                await new Promise(resolve => setTimeout(resolve, delay));
                return callGeminiAPI(prompt, retries - 1, delay * 2);
            }
            return "An error occurred while communicating with the AI. Please try again later.";
        }
    }
    
    /**
     * Collects all relevant text from the page to use as context.
     * @returns {string} The page text content.
     */
    function getPageContext() {
        const summaryText = document.getElementById('originalSummary').innerText;
        const experienceItems = Array.from(document.querySelectorAll('.job')).map(job => job.innerText.replace(/\n/g, ' ')).join('. ');
        const skillsItems = Array.from(document.querySelectorAll('.skills-list li')).map(li => li.innerText).join(', ');
        // Get the text from the new invisible div
        const hiddenContext = document.getElementById('hidden-ai-context').innerText;
        
        return `Visible Information on the Site: { Summary: ${summaryText}. Experience: ${experienceItems}. Skills and Certifications: ${skillsItems}. } Additional Information (extra context): { ${hiddenContext} }`;
    }

    // --- Feature: Generate Summary ---
    summarizeBtn.addEventListener('click', async () => {
        summarizeBtn.disabled = true;
        loadingSummary.style.display = 'block';
        newSummaryContainer.style.display = 'none';

        const context = getPageContext();
        const prompt = `Based on the following professional profile, write a new concise and impactful summary in the first person, with a maximum of two paragraphs, in American English. Highlight the main skills and vast experience. Profile: "${context}"`;
        
        const newSummary = await callGeminiAPI(prompt);
        
        generatedSummary.innerText = newSummary;
        loadingSummary.style.display = 'none';
        newSummaryContainer.style.display = 'block';
        summarizeBtn.disabled = false;
    });

    // --- Feature: AI Chat ---
    async function handleChatSubmit() {
        const userQuestion = chatInput.value.trim();
        if (!userQuestion) return;

        chatSubmitBtn.disabled = true;
        chatInput.disabled = true;
        loadingChat.style.display = 'block';

        // Display the user's message
        appendMessage(userQuestion, 'user');
        chatInput.value = '';

        const context = getPageContext();
        const prompt = `You are an AI assistant representing Erico Schuch. Answer the following question strictly based on the information from his professional profile (both visible and additional). Be friendly and professional. If the answer is not in the profile, say that you do not have that specific information, but you can talk about the skills he has. Answer in American English. Erico's Profile: "${context}". Visitor's question: "${userQuestion}"`;

        const aiResponse = await callGeminiAPI(prompt);

        // Display the AI's response
        appendMessage(aiResponse, 'ai');
        
        loadingChat.style.display = 'none';
        chatSubmitBtn.disabled = false;
        chatInput.disabled = false;
        chatInput.focus();
    }

    chatSubmitBtn.addEventListener('click', handleChatSubmit);
    chatInput.addEventListener('keypress', (e) => {
        if (e.key === 'Enter') {
            handleChatSubmit();
        }
    });
    
    /**
     * Appends a message to the chat box.
     * @param {string} text The message text.
     * @param {'user' | 'ai'} sender Who sent the message.
     */
    function appendMessage(text, sender) {
        const messageDiv = document.createElement('div');
        messageDiv.classList.add('chat-message', sender === 'user' ? 'user-message' : 'ai-message');
        
        const senderStrong = document.createElement('strong');
        senderStrong.innerText = sender === 'user' ? 'You: ' : 'AI: ';
        
        messageDiv.appendChild(senderStrong);
        messageDiv.append(text);
        
        chatBox.appendChild(messageDiv);
        chatBox.scrollTop = chatBox.scrollHeight; // Scroll to the latest message
    }

</script>
</body>
</html>
